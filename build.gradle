/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
plugins {
    id 'java-library'
    id 'jacoco'
}

group = 'java.org.fstrf.stanfordAsiInterpreter.resistance'
version = '1.6.0.0-hivdb1'

sourceCompatibility = 1.8
targetCompatibility = 1.8

description = 'ASI (Algorithm Specification Interface) Interpreter'

repositories {
    mavenCentral()
}

dependencies {
    // https://mvnrepository.com/artifact/commons-cli/commons-cli
    implementation 'commons-cli:commons-cli:1.1'

    // https://mvnrepository.com/artifact/commons-collections/commons-collections
    implementation 'commons-collections:commons-collections:2.1.1'

    // https://mvnrepository.com/artifact/dom4j/dom4j
    implementation 'org.dom4j:dom4j:2.0.2'

    // https://mvnrepository.com/artifact/jaxen/jaxen
    implementation 'jaxen:jaxen:1.1'

    // https://mvnrepository.com/artifact/junit/junit
    testImplementation 'junit:junit:4.12'
}

jacocoTestReport {
    reports {
        xml.required = true
        html.required = true
    }
}

sourceSets {
    main {
        java {
            srcDir 'src/java'
        }
        resources {
            srcDir 'src/java'
        }
    }
    test {
        java {
            srcDir 'test/src/java'
        }
        resources {
            srcDir 'test/files'
        }
    }
}

task sourcesJar(type: Jar) {
    dependsOn classes
    classifier 'sources'
    from sourceSets.main.allSource
}

task cleanJavadoc(type: Delete) {
    delete 'doc'
}

task copyJavadoc(type: Copy) {
    from 'build/docs/javadoc'
    into 'doc'
}

javadoc.dependsOn copyJavadoc
javadoc.dependsOn cleanJavadoc
copyJavadoc.shouldRunAfter javadoc
copyJavadoc.shouldRunAfter cleanJavadoc
